{
  "log": {
    "level": "info",
    "timestamp": true
  },

  "experimental": {
    "cache_file": {
      "enabled": true,
      "store_fakeip": false
    },
    "clash_api": {
      "external_controller": "127.0.0.1:9090",
      "external_ui": "ui",
      "secret": "",
      "external_ui_download_url": "https://gh-proxy.com/https://github.com/MetaCubeX/metacubexd/archive/refs/heads/gh-pages.zip",
      "external_ui_download_detour": "direct",
      "default_mode": "rule"
    }
  },

  "dns": {
    "strategy": "ipv4_only",
    "final": "localDns",
    "servers": [
      { "tag": "proxyDns", "address": "tls://8.8.8.8", "detour": "Proxy" },
      { "tag": "localDns", "address": "https://223.5.5.5/dns-query", "detour": "direct" }
    ],
    "rules": [
      { "outbound": "any", "server": "localDns" },
      { "rule_set": "geosite-cn", "server": "localDns" },
      { "clash_mode": "direct", "server": "localDns" },
      { "clash_mode": "global", "server": "proxyDns" },
      { "rule_set": "geosite-geolocation-!cn", "server": "proxyDns" }
    ]
  },

  "inbounds": [
    {
      "tag": "tun-in",
      "type": "tun",
      "address": ["172.19.0.0/30"],
      "mtu": 9000,
      "auto_route": true,
      "strict_route": true,
      "stack": "system",
      "platform": {
        "http_proxy": {
          "enabled": true,
          "server": "127.0.0.1",
          "server_port": 2080
        }
      }
    },
    {
      "tag": "mixed-in",
      "type": "mixed",
      "listen": "127.0.0.1",
      "listen_port": 2080
    }
  ],

  "outbounds": [
    {"tag": "direct","type": "direct"},
    {"tag": "Proxy","type": "selector","outbounds":["ğŸ‡­ğŸ‡° HongKong","ğŸ‡ºğŸ‡¸ United States","ğŸ‡¸ğŸ‡¬ Singapore","ğŸ‡¯ğŸ‡µ Japan","ğŸ‡¨ğŸ‡³ Taiwan","direct"],"default":"direct","interrupt_exist_connections":true},
    {"tag": "AI","type": "selector","outbounds":["Proxy","ğŸ‡­ğŸ‡° HongKong","ğŸ‡ºğŸ‡¸ United States","ğŸ‡¸ğŸ‡¬ Singapore","ğŸ‡¯ğŸ‡µ Japan","ğŸ‡¨ğŸ‡³ Taiwan"],"default":"Proxy","interrupt_exist_connections":true},
    {"tag": "Google","type": "selector","outbounds":["Proxy","ğŸ‡­ğŸ‡° HongKong","ğŸ‡ºğŸ‡¸ United States","ğŸ‡¸ğŸ‡¬ Singapore","ğŸ‡¯ğŸ‡µ Japan","ğŸ‡¨ğŸ‡³ Taiwan"],"default":"Proxy","interrupt_exist_connections":true},
    {"tag": "Microsoft","type": "selector","outbounds":["Proxy","ğŸ‡­ğŸ‡° HongKong","ğŸ‡ºğŸ‡¸ United States","ğŸ‡¸ğŸ‡¬ Singapore","ğŸ‡¯ğŸ‡µ Japan","ğŸ‡¨ğŸ‡³ Taiwan","direct"],"default":"Proxy","interrupt_exist_connections":true},
    {"tag": "Twitter","type": "selector","outbounds":["Proxy","ğŸ‡­ğŸ‡° HongKong","ğŸ‡ºğŸ‡¸ United States","ğŸ‡¸ğŸ‡¬ Singapore","ğŸ‡¯ğŸ‡µ Japan","ğŸ‡¨ğŸ‡³ Taiwan"],"default":"Proxy","interrupt_exist_connections":true},
    {"tag": "Telegram","type": "selector","outbounds":["Proxy","ğŸ‡­ğŸ‡° HongKong","ğŸ‡ºğŸ‡¸ United States","ğŸ‡¸ğŸ‡¬ Singapore","ğŸ‡¯ğŸ‡µ Japan","ğŸ‡¨ğŸ‡³ Taiwan"],"default":"Proxy","interrupt_exist_connections":true},
    {"tag": "Emby","type": "selector","outbounds":["Proxy","ğŸ‡­ğŸ‡° HongKong","ğŸ‡ºğŸ‡¸ United States","ğŸ‡¸ğŸ‡¬ Singapore","ğŸ‡¯ğŸ‡µ Japan","ğŸ‡¨ğŸ‡³ Taiwan","direct"],"default":"Proxy","interrupt_exist_connections":true},
    {"tag": "Game","type": "selector","outbounds":["Proxy","ğŸ‡­ğŸ‡° HongKong","ğŸ‡ºğŸ‡¸ United States","ğŸ‡¸ğŸ‡¬ Singapore","ğŸ‡¯ğŸ‡µ Japan","ğŸ‡¨ğŸ‡³ Taiwan","direct"],"default":"Proxy","interrupt_exist_connections":true},
    {"tag": "Spotify","type": "selector","outbounds":["Proxy","ğŸ‡­ğŸ‡° HongKong","ğŸ‡ºğŸ‡¸ United States","ğŸ‡¸ğŸ‡¬ Singapore","ğŸ‡¯ğŸ‡µ Japan","ğŸ‡¨ğŸ‡³ Taiwan","direct"],"default":"Proxy","interrupt_exist_connections":true},
    {"tag": "ProxyMedia","type": "selector","outbounds":["Proxy","ğŸ‡­ğŸ‡° HongKong","ğŸ‡ºğŸ‡¸ United States","ğŸ‡¸ğŸ‡¬ Singapore","ğŸ‡¯ğŸ‡µ Japan","ğŸ‡¨ğŸ‡³ Taiwan"],"default":"Proxy","interrupt_exist_connections":true},
    {"tag": "Final","type": "selector","outbounds":["Proxy","ğŸ‡­ğŸ‡° HongKong","ğŸ‡ºğŸ‡¸ United States","ğŸ‡¸ğŸ‡¬ Singapore","ğŸ‡¯ğŸ‡µ Japan","ğŸ‡¨ğŸ‡³ Taiwan","direct"],"default":"Proxy","interrupt_exist_connections":true},
    {"tag": "ğŸ‡­ğŸ‡° HongKong","type": "urltest","outbounds":[],"url":"http://1.1.1.1/generate_204","interval":"10m","tolerance":0,"interrupt_exist_connections":false},
    {"tag": "ğŸ‡ºğŸ‡¸ United States","type": "urltest","outbounds":[],"url":"http://1.1.1.1/generate_204","interval":"10m","tolerance":0,"interrupt_exist_connections":false},
    {"tag": "ğŸ‡¸ğŸ‡¬ Singapore","type": "urltest","outbounds":[],"url":"http://1.1.1.1/generate_204","interval":"10m","tolerance":0,"interrupt_exist_connections":false},
    {"tag": "ğŸ‡¯ğŸ‡µ Japan","type": "urltest","outbounds":[],"url":"http://1.1.1.1/generate_204","interval":"10m","tolerance":0,"interrupt_exist_connections":false},
    {"tag": "ğŸ‡¨ğŸ‡³ Taiwan","type": "urltest","outbounds":[],"url":"http://1.1.1.1/generate_204","interval":"10m","tolerance":0,"interrupt_exist_connections":false}
  ],

  "route": {
    "rule_set": [
      {"tag":"Ads","type":"remote","format":"binary","url":"https://git.repcz.link/github.com/Repcz/Tool/raw/X/sing-box/Rules/Ads_SukkaW.srs","download_detour":"direct"},
      {"tag":"Telegram","type":"remote","format":"binary","url":"https://git.repcz.link/github.com/Repcz/Tool/raw/X/sing-box/Rules/Telegram.srs","download_detour":"direct"},
      {"tag":"YouTube","type":"remote","format":"binary","url":"https://git.repcz.link/github.com/Repcz/Tool/raw/X/sing-box/Rules/YouTube.srs","download_detour":"direct"},
      {"tag":"Google","type":"remote","format":"binary","url":"https://git.repcz.link/github.com/Repcz/Tool/raw/X/sing-box/Rules/Google.srs","download_detour":"direct"},
      {"tag":"Microsoft","type":"remote","format":"binary","url":"https://git.repcz.link/github.com/Repcz/Tool/raw/X/sing-box/Rules/Microsoft.srs","download_detour":"direct"},
      {"tag":"OneDrive","type":"remote","format":"binary","url":"https://git.repcz.link/github.com/Repcz/Tool/raw/X/sing-box/Rules/OneDrive.srs","download_detour":"direct"},
      {"tag":"Github","type":"remote","format":"binary","url":"https://git.repcz.link/github.com/Repcz/Tool/raw/X/sing-box/Rules/Github.srs","download_detour":"direct"},
      {"tag":"Twitter","type":"remote","format":"binary","url":"https://git.repcz.link/github.com/Repcz/Tool/raw/X/sing-box/Rules/Twitter.srs","download_detour":"direct"},
      {"tag":"Apple","type":"remote","format":"binary","url":"https://git.repcz.link/github.com/Repcz/Tool/raw/X/sing-box/Rules/Apple.srs","download_detour":"direct"},
      {"tag":"AppleProxy","type":"remote","format":"binary","url":"https://git.repcz.link/github.com/Repcz/Tool/raw/X/sing-box/Rules/AppleProxy.srs","download_detour":"direct"},
      {"tag":"AI","type":"remote","format":"binary","url":"https://git.repcz.link/raw.githubusercontent.com/MetaCubeX/meta-rules-dat/sing/geo/geosite/category-ai-chat-!cn.srs","download_detour":"direct"},
      {"tag":"Emby","type":"remote","format":"binary","url":"https://git.repcz.link/github.com/Repcz/Tool/raw/X/sing-box/Rules/Emby.srs","download_detour":"direct"},
      {"tag":"Epic","type":"remote","format":"binary","url":"https://git.repcz.link/github.com/Repcz/Tool/raw/X/sing-box/Rules/Epic.srs","download_detour":"direct"},
      {"tag":"Steam","type":"remote","format":"binary","url":"https://git.repcz.link/github.com/Repcz/Tool/raw/X/sing-box/Rules/Steam.srs","download_detour":"direct"},
      {"tag":"Spotify","type":"remote","format":"binary","url":"https://git.repcz.link/github.com/Re
